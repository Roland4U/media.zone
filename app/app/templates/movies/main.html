{% extends 'base.html' %}


<!--Movie Card-->
{% block content %}
    <div class="row ">
        <div role="main" class="container-fluid w-100 ">

            <ul class="list-unstyled w-100 d-flex flex-wrap justify-content-around  infinite-container">
                
                {% for obj in movie %}
                
                    {% include "card.html" %}
                        
                {% endfor %}
                        
            </ul>
        </div>
        {% if page_obj.has_next %}
     <a class="infinite-more-link" href="?page={{ page_obj.next_page_number }}"></a>
     {% endif %}
     <div class="spinner-border text-light" role="status">
         <span class="sr-only">Loading...</span>
     </div>
        
    </div>
    
    
    {% endblock content %}
    
    {% block script %}
    <script src="/static/js/jquery-2.2.4.min.js"></script>
    <script src="/static/js/jquery.waypoints.min.js"></script>
    <script src="/static/js/infinite.min.js"></script>
    <script>
        var infinite = new Waypoint.Infinite({
            element: $('.infinite-container')[0],
            handler: function (direction) {

            },
            offset: 'bottom-in-view',
            onBeforePageLoad: function () {
                $('.spinner-border').show();
            },
            onAfterPageLoad: function () {
                $('.spinner-border').hide();
            }


        });

    </script>


    {% endblock script %}